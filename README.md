# å¯ç¤ºè·¯ (Revelation Road)

## é¡¹ç›®ç®€ä»‹

å¯ç¤ºè·¯æ˜¯ä¸€ä¸ªåŸºäº Electron å’Œ React çš„è·¨å¹³å°åº”ç”¨ï¼Œæä¾›åˆ†ç±»å¼å†…å®¹æµè§ˆä½“éªŒã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡å­¦ç§‘åˆ†ç±»æˆ–ä¹¦é¡µåˆ†ç±»æµè§ˆæœ¯è¯­(æ— é™æ·±å…¥)ï¼Œå¹¶è·å–ç›¸å…³è§£é‡Šã€‚åº”ç”¨æ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢ã€éšæœºæœ¯è¯­é€‰æ‹©å’ŒèƒŒæ™¯éŸ³ä¹æ§åˆ¶ç­‰åŠŸèƒ½ã€‚ã€Šå¯ç¤ºè·¯ã€‹æ˜¯æ­Œæ‰‹é‚“ç´«æ£‹çš„çˆ±æƒ…ç§‘å¹»å°è¯´ï¼Œå°è¯´è®²è¿°äº†ä¸€ä¸ªè¢«ç§°ä¸º"å¯ç¤ºè·¯"çš„ç¥ç§˜ä¸–ç•Œï¼Œå…¶ä¸­åŒ…å«äº†è®¸å¤šéšè—çš„çŸ¥è¯†å’Œç§˜å¯†ã€‚ç›®å½•é‡Œçš„æœ¯è¯­å³ä¹¦é‡Œé¢æåˆ°æˆ–è•´å«çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬ç§‘å­¦ã€ç¥å­¦ã€å¿ƒç†å­¦ã€ç¼–ç¨‹ã€å“²å­¦ã€éŸ³ä¹ã€æ–‡å­¦ç­‰ã€‚å†…å®¹åœ¨ä¸æ–­å®Œå–„ä¸­ï¼Œå¦‚æœä½ æœ‰ä»€ä¹ˆæƒ³æ³•ï¼Œå¯ä»¥æäº¤Issueã€‚

### æ— é™æ·±å…¥

ç”¨æˆ·å¯ä»¥é€šè¿‡ç‚¹å‡»æœ¯è¯­åŠè§£é‡Šä¸­çš„é“¾æ¥æ¥æ— é™æ·±å…¥ï¼ŒæŸ¥çœ‹æ›´è¯¦ç»†çš„è§£é‡Šå’Œç›¸å…³å†…å®¹ã€‚

åœ¨çº¿æµè§ˆï¼šç”¨æˆ·å¯ä»¥åœ¨[æœ¬é¡¹ç›®ç½‘é¡µ](https://qcgm1978.github.io/revelation/)ç›´æ¥æµè§ˆå†…å®¹ï¼Œæ— éœ€ä¸‹è½½ã€‚ï¼ˆè·å–æ›´å¥½ä½“éªŒéœ€å¡«å†™DeepSeek API keyï¼‰

Vercel éƒ¨ç½²ï¼šç”¨æˆ·å¯ä»¥åœ¨[Vercel](https://revelation-sigma.vercel.app/)åœ¨çº¿æµè§ˆã€‚

[å®‰å“ç‰ˆä¸‹è½½](https://qcgm1978.github.io/revelation/download.html)

è¯¥é¡¹ç›®åŸºäº[Infinite Wiki](https://aistudio.google.com/app/prompts?state=%7B%22ids%22:%5B%221J3Y2wXFzHKha4Qnb7UObSYAucBl1KPBO%22%5D,%22action%22:%22open%22,%22userId%22:%22103462436203651956396%22,%22resourceKeys%22:%7B%7D%7D&amp;usp=sharing)æ„å»ºã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ–¥ï¸ åŸºäº Electron å’Œ Capacitor çš„è·¨å¹³å°æ”¯æŒï¼ˆWindowsã€macOSã€Linuxã€Android å’Œ iOSï¼‰
- ğŸ“š åŒæ¨¡å¼å†…å®¹åˆ†ç±»ï¼ˆå­¦ç§‘åˆ†ç±»å’Œä¹¦é¡µåˆ†ç±»ï¼‰
- ğŸ” æœ¯è¯­æœç´¢å’Œé¡µç ç­›é€‰åŠŸèƒ½
- ğŸŒ ä¸­è‹±æ–‡è¯­è¨€åˆ‡æ¢
- ğŸ² éšæœºæœ¯è¯­é€‰æ‹©åŠŸèƒ½
- ğŸµ èƒŒæ™¯éŸ³ä¹æ’­æ”¾æ§åˆ¶ï¼ˆç©ºæ ¼é”®æš‚åœ/æ’­æ”¾ï¼‰
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œé€‚é…ç§»åŠ¨ç«¯æµè§ˆ
- ğŸ’¾ æœ¬åœ°æ•°æ®å­˜å‚¨ï¼Œæ— éœ€ç½‘ç»œè¿æ¥
- ğŸ”— æœ¯è¯­å†…å®¹é“¾æ¥è·³è½¬åŠŸèƒ½
- ğŸ“± åŸç”Ÿåº”ç”¨æ‰‹åŠ¿å¯¼èˆªæ”¯æŒ

## å¼€å‘ç¯å¢ƒè¦æ±‚

- Node.js 18+
- npm æˆ– yarn
- Electron 32+
- Capacitor 6+ (ç”¨äºç§»åŠ¨å¹³å°æ„å»º)
- React 19+
- TypeScript 5+

## å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨cnpmå®‰è£…ä¾èµ–
cnpm install
```

## å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# å¯åŠ¨ Electron å¼€å‘æ¨¡å¼
npm run electron:dev
```

## æ„å»ºåº”ç”¨

### æ¡Œé¢åº”ç”¨

```bash
# æ„å»ºæ‰€æœ‰å¹³å°
npm run electron:build

# æ„å»ºç‰¹å®šå¹³å°
npm run electron:build:win    # Windows
npm run electron:build:mac    # macOS
npm run electron:build:linux  # Linux
```

### ç§»åŠ¨åº”ç”¨ (ä½¿ç”¨ Capacitor)

```bash
# æ·»åŠ  Capacitor å¹³å°
npx cap add android
npx cap add ios

# æ„å»º Web åº”ç”¨
npm run build

# åŒæ­¥åˆ°ç§»åŠ¨å¹³å°å¹¶æ„å»ºAndroidåº”ç”¨ï¼ˆä¸æ‰“å¼€Android Studioï¼‰
sudo npm run capacitor:build:android:noopen

# æ‰“å¼€ Android Studio
npx cap open android

# æ‰“å¼€ Xcode
npx cap open ios
```

## å‘å¸ƒåˆ°åº”ç”¨å¸‚åœº

### ç§»åŠ¨åº”ç”¨å¸‚åœºå‘å¸ƒ

#### Android (Google Play Store)

1. æ„å»º Web åº”ç”¨ï¼š
   ```bash
   npm run build
   ```

2. åŒæ­¥åˆ° Android å¹³å°å¹¶è®¾ç½®æƒé™ï¼š
   ```bash
   sudo npm run capacitor:build:android:noopen
   ```

3. åœ¨ Android Studio ä¸­æ„å»ºç­¾å APK æˆ– App Bundle

4. ä¸Šä¼ åˆ° Google Play Console

#### iOS (App Store)

1. æ„å»º Web åº”ç”¨ï¼š
   ```bash
   npm run build
   ```

2. åŒæ­¥åˆ° iOS å¹³å°ï¼š
   ```bash
   npx cap sync ios
   ```

3. æ‰“å¼€ Xcodeï¼š
   ```bash
   npx cap open ios
   ```

4. åœ¨ Xcode ä¸­é…ç½®ç­¾åå¹¶æ„å»º

5. ä¸Šä¼ åˆ° App Store Connect

### æ¡Œé¢åº”ç”¨åˆ†å‘

- Windows: ä½¿ç”¨ NSIS å®‰è£…ç¨‹åº
- macOS: ä½¿ç”¨ DMG é•œåƒæ–‡ä»¶
- Linux: ä½¿ç”¨ AppImage æ ¼å¼

## é¡¹ç›®ç»“æ„

```
revelation/
â”œâ”€â”€ .github/                 # GitHub å·¥ä½œæµé…ç½®
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ build.yml        # Android æ„å»ºå·¥ä½œæµ
â”‚       â””â”€â”€ deploy-pages.yml # GitHub Pages éƒ¨ç½²å·¥ä½œæµ
â”œâ”€â”€ .gitignore               # Git å¿½ç•¥é…ç½®
â”œâ”€â”€ .vscode/                 # VS Code é…ç½®
â”œâ”€â”€ App.tsx                  # åº”ç”¨ä¸»ç»„ä»¶
â”œâ”€â”€ DEPLOYMENT.md            # éƒ¨ç½²æ–‡æ¡£
â”œâ”€â”€ README.md                # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ android/                 # Android æ„å»ºç›¸å…³æ–‡ä»¶
â”œâ”€â”€ assets/                  # åº”ç”¨å›¾æ ‡ç­‰é™æ€èµ„æº
â”‚   â”œâ”€â”€ android/
â”‚   â”œâ”€â”€ ios/
â”‚   â””â”€â”€ windows/
â”œâ”€â”€ build-android.sh         # Android æ„å»ºè„šæœ¬
â”œâ”€â”€ capacitor.config.ts      # Capacitor é…ç½®æ–‡ä»¶
â”œâ”€â”€ components/              # React ç»„ä»¶
â”‚   â”œâ”€â”€ ApiKeyManager.tsx    # API å¯†é’¥ç®¡ç†ç»„ä»¶
â”‚   â”œâ”€â”€ AsciiArtDisplay.tsx  # ASCII è‰ºæœ¯å±•ç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ ContentDisplay.tsx   # å†…å®¹å±•ç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ ContentGenerator.tsx # å†…å®¹ç”Ÿæˆç»„ä»¶
â”‚   â”œâ”€â”€ Directory.tsx        # ç›®å½•ç»„ä»¶
â”‚   â”œâ”€â”€ DirectoryUtils.tsx   # ç›®å½•å·¥å…·ç»„ä»¶
â”‚   â”œâ”€â”€ DocumentRenderer.tsx # æ–‡æ¡£æ¸²æŸ“ç»„ä»¶
â”‚   â”œâ”€â”€ Header.tsx           # å¤´éƒ¨ç»„ä»¶
â”‚   â”œâ”€â”€ HtmlLoader.tsx       # HTML åŠ è½½ç»„ä»¶
â”‚   â”œâ”€â”€ LanguageSelector.tsx # è¯­è¨€é€‰æ‹©å™¨
â”‚   â”œâ”€â”€ LoadingSkeleton.tsx  # åŠ è½½éª¨æ¶å±
â”‚   â””â”€â”€ SearchBar.tsx        # æœç´¢æ ç»„ä»¶
â”œâ”€â”€ electron-builder-android.json # Electron æ„å»ºé…ç½®
â”œâ”€â”€ hooks/                   # React Hooks
â”‚   â”œâ”€â”€ useBookManager.ts    # ä¹¦ç±ç®¡ç† Hook
â”‚   â””â”€â”€ usePageController.ts # é¡µé¢æ§åˆ¶ Hook
â”œâ”€â”€ index.css                # å…¨å±€æ ·å¼
â”œâ”€â”€ index.html               # å…¥å£ HTML
â”œâ”€â”€ index.tsx                # åº”ç”¨å…¥å£æ–‡ä»¶
â”œâ”€â”€ main.js                  # Electron ä¸»è¿›ç¨‹
â”œâ”€â”€ metadata-1.json
â”œâ”€â”€ metadata.json
â”œâ”€â”€ package.json             # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ preload.js               # Electron é¢„åŠ è½½è„šæœ¬
â”œâ”€â”€ public/                  # å…¬å…±èµ„æº
â”‚   â”œâ”€â”€ chapter_page.json    # ç« èŠ‚é¡µé¢æ•°æ®
â”‚   â”œâ”€â”€ download.html        # ä¸‹è½½é¡µé¢
â”‚   â”œâ”€â”€ revelation.json      # æœ¯è¯­æ•°æ®
â”‚   â”œâ”€â”€ timeline.js          # æ—¶é—´çº¿åŠŸèƒ½
â”‚   â”œâ”€â”€ timelineData.json    # æ—¶é—´çº¿æ•°æ®
â”‚   â””â”€â”€ visualization.html   # å¯è§†åŒ–é¡µé¢
â”œâ”€â”€ services/                # æœåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ deepseekService.ts   # DeepSeek API æœåŠ¡
â”‚   â”œâ”€â”€ freeWikiService.ts   # å…è´¹ Wiki æœåŠ¡
â”‚   â”œâ”€â”€ geminiService.ts     # Gemini API æœåŠ¡
â”‚   â””â”€â”€ wikiService.ts       # Wiki æœåŠ¡
â”œâ”€â”€ tsconfig.json            # TypeScript é…ç½®
â”œâ”€â”€ types/                   # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ directory.ts
â”‚   â””â”€â”€ react.d.ts
â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ audioManager.ts      # éŸ³é¢‘ç®¡ç†å™¨
â”‚   â”œâ”€â”€ fileFormatter.ts     # æ–‡ä»¶æ ¼å¼åŒ–å·¥å…·
â”‚   â”œâ”€â”€ formatUploadedFile.ts # ä¸Šä¼ æ–‡ä»¶æ ¼å¼åŒ–å·¥å…·
â”‚   â””â”€â”€ gestureHandler.ts    # æ‰‹åŠ¿å¤„ç†å™¨
â”œâ”€â”€ vite-env.d.ts            # Vite ç¯å¢ƒç±»å‹å®šä¹‰
â””â”€â”€ vite.config.ts           # Vite é…ç½®
```


## ä½¿ç”¨è¯´æ˜

1. å¯åŠ¨åº”ç”¨åï¼Œå¯ä»¥é€šè¿‡é¡¶éƒ¨æœç´¢æ æœç´¢æœ¯è¯­
2. ç‚¹å‡»å·¦ä¾§åˆ†ç±»èœå•åˆ‡æ¢ä¸åŒå­¦ç§‘
3. ç‚¹å‡»"æŒ‰ä¹¦é¡µåˆ†ç±»"æŒ‰é’®å¯ä»¥æŒ‰é¡µç æµè§ˆæœ¯è¯­
4. åœ¨ä¹¦é¡µåˆ†ç±»æ¨¡å¼ä¸‹ï¼Œå¯ä»¥è¾“å…¥é¡µç è¿›è¡Œç­›é€‰
5. ç‚¹å‡»"éšæœº"æŒ‰é’®è·å–éšæœºæœ¯è¯­
6. æŒ‰ç©ºæ ¼é”®å¯ä»¥æ§åˆ¶èƒŒæ™¯éŸ³ä¹çš„æ’­æ”¾å’Œæš‚åœ
7. ç‚¹å‡»è¯­è¨€åˆ‡æ¢æŒ‰é’®å¯ä»¥åœ¨ä¸­è‹±æ–‡ä¹‹é—´åˆ‡æ¢
8. ç‚¹å‡»å¸¦é“¾æ¥å›¾æ ‡çš„æœ¯è¯­æ ‡é¢˜å¯ä»¥è·³è½¬åˆ°ç›¸å…³å†…å®¹
9. åœ¨ç§»åŠ¨åº”ç”¨ä¸­ï¼Œæ”¯æŒä»å·¦å‘å³æ»‘åŠ¨åé€€ï¼Œä»å³å‘å·¦æ»‘åŠ¨å‰è¿›

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç æˆ–æå‡ºå»ºè®®ï¼è¯·å…ˆåˆ›å»º issue æè¿°é—®é¢˜æˆ–åŠŸèƒ½éœ€æ±‚ï¼Œç„¶åæäº¤ pull requestã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚